<!doctype html>
<meta charset="utf8">
<title>Fluent Runtime Performance</title>
<style>
    html {
        font: 1rem/1.3 Helvetica, Arial, sans-serif;
        padding: 10vh 10vw;
        max-width: 30rem;
        background: #fcfcfc;
        color: #111;
    }

    legend {
        padding: .33rem .66rem;
        font-style: italic;
    }

    label {
        margin-top: 1rem;
        display: block;
    }

    #results {
        margin-top: 1rem;
    }

    button {
        padding: .33rem .66rem;
    }
</style>

<script type="module">
    import test from "./test.js";
    window.test = test;
</script>

<h1>Fluent Runtime</h1>

<p>
    Measure the time it takes to parse a long Fluent resource. The test is
    run only once to simulate the real-world conditions and to de-bias it
    from the impact of the JIT compilation.
</p>

<fieldset>
    <legend>Constructed Resource Settings</legend>
    
    <label for="messages">Number of messages: <span>10</span></label>
    <input id="messages"
        oninput="this.previousElementSibling.firstElementChild.textContent = this.value"
        type="range" min="0" max="100" step="10" value="10">

    <label for="paragraphs">Number of paragraphs in each message: <span>10</span></label>
    <input id="paragraphs"
        oninput="this.previousElementSibling.firstElementChild.textContent = this.value"
        type="range" min="0" max="100" step="10" value="10">
</fieldset>

<div id="results">
    <button onclick="test()">Parse</button>
    Elapsed time: <span id="elapsed">???</span> ms
</div>
